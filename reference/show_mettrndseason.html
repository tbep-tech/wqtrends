<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot seasonal metrics and rates of change — show_mettrndseason • wqtrends</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot seasonal metrics and rates of change — show_mettrndseason"><meta name="description" content="Plot seasonal metrics and rates of change"><meta property="og:description" content="Plot seasonal metrics and rates of change"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wqtrends</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.1.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/wqtrends.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tbep-tech/wqtrends/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot seasonal metrics and rates of change</h1>
      <small class="dont-index">Source: <a href="https://github.com/tbep-tech/wqtrends/blob/master/R/show_mettrndseason.R" class="external-link"><code>R/show_mettrndseason.R</code></a></small>
      <div class="d-none name"><code>show_mettrndseason.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot seasonal metrics and rates of change</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">show_mettrndseason</span><span class="op">(</span></span>
<span>  <span class="va">mod</span>,</span>
<span>  metfun <span class="op">=</span> <span class="va">mean</span>,</span>
<span>  doystr <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  doyend <span class="op">=</span> <span class="fl">364</span>,</span>
<span>  justify <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"center"</span>, <span class="st">"left"</span>, <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  win <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  nsim <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  useave <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  yromit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">ylab</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  nms <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fils <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cmbn <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  base_size <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mod">mod<a class="anchor" aria-label="anchor" href="#arg-mod"></a></dt>
<dd><p>input model object as returned by <code><a href="anlz_gam.html">anlz_gam</a></code></p></dd>


<dt id="arg-metfun">metfun<a class="anchor" aria-label="anchor" href="#arg-metfun"></a></dt>
<dd><p>function input for metric to calculate, e.g., <code>mean</code>, <code>var</code>, <code>max</code>, etc</p></dd>


<dt id="arg-doystr">doystr<a class="anchor" aria-label="anchor" href="#arg-doystr"></a></dt>
<dd><p>numeric indicating start Julian day for extracting averages</p></dd>


<dt id="arg-doyend">doyend<a class="anchor" aria-label="anchor" href="#arg-doyend"></a></dt>
<dd><p>numeric indicating ending Julian day for extracting averages</p></dd>


<dt id="arg-justify">justify<a class="anchor" aria-label="anchor" href="#arg-justify"></a></dt>
<dd><p>chr string indicating the justification for the trend window</p></dd>


<dt id="arg-win">win<a class="anchor" aria-label="anchor" href="#arg-win"></a></dt>
<dd><p>numeric indicating number of years to use for the trend window, see details</p></dd>


<dt id="arg-nsim">nsim<a class="anchor" aria-label="anchor" href="#arg-nsim"></a></dt>
<dd><p>numeric indicating number of random draws for simulating uncertainty</p></dd>


<dt id="arg-useave">useave<a class="anchor" aria-label="anchor" href="#arg-useave"></a></dt>
<dd><p>logical indicating if <code>anlz_avgseason</code> is used for the seasonal metric calculation, see details</p></dd>


<dt id="arg-yromit">yromit<a class="anchor" aria-label="anchor" href="#arg-yromit"></a></dt>
<dd><p>optional numeric vector for years to omit from the plot, see details</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>chr string for y-axis label</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>numeric for width of error bars</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>numeric for point size</p></dd>


<dt id="arg-nms">nms<a class="anchor" aria-label="anchor" href="#arg-nms"></a></dt>
<dd><p>optional character vector for trend names, see details</p></dd>


<dt id="arg-fils">fils<a class="anchor" aria-label="anchor" href="#arg-fils"></a></dt>
<dd><p>optional character vector for the fill of interior point colors, see details</p></dd>


<dt id="arg-cmbn">cmbn<a class="anchor" aria-label="anchor" href="#arg-cmbn"></a></dt>
<dd><p>logical indicating if the no trend and no estimate colors should be combined, see details</p></dd>


<dt id="arg-base-size">base_size<a class="anchor" aria-label="anchor" href="#arg-base-size"></a></dt>
<dd><p>numeric indicating base font size, passed to <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></code></p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>optional numeric vector of length two for x-axis limits</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>optional numeric vector of length two for y-axis limits</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to <code>metfun</code>, e.g., <code>na.rm = TRUE</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The plot is the same as that returned by <code><a href="show_metseason.html">show_metseason</a></code> with the addition of points for the seasonal metrics colored by the trends estimated from <code><a href="anlz_trndseason.html">anlz_trndseason</a></code> for the specified window and justification.</p>
<p>Four colors are used to define increasing, decreasing, no trend, or no estimate (i.e., too few points for the window).  The names and the colors can be changed using the <code>nms</code> and <code>fils</code> arguments, respectively.  The <code>cmbn</code> argument can be used to combine the no trend and no estimate colors into one color and label. Although this may be desired for aesthetic reasons, the colors and labels may be misleading with the default names since no trend is shown for points where no estimates were made.</p>
<p>The optional <code>yromit</code> vector can be used to omit years from the plot and trend assessment. This may be preferred if seasonal estimates for a given year have very wide confidence intervals likely due to limited data, which can skew the trend assessments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># data to model</span></span></span>
<span class="r-in"><span><span class="va">tomod</span> <span class="op">&lt;-</span> <span class="va">rawdat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">station</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">34</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">param</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">'chl'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">yr</span> <span class="op">&gt;</span> <span class="fl">2015</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="anlz_gam.html">anlz_gam</a></span><span class="op">(</span><span class="va">tomod</span>, trans <span class="op">=</span> <span class="st">'log10'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">show_mettrndseason</span><span class="op">(</span><span class="va">mod</span>, metfun <span class="op">=</span> <span class="va">mean</span>, doystr <span class="op">=</span> <span class="fl">90</span>, doyend <span class="op">=</span> <span class="fl">180</span>, justify <span class="op">=</span> <span class="st">'center'</span>, </span></span>
<span class="r-in"><span>  win <span class="op">=</span> <span class="fl">4</span>, ylab <span class="op">=</span> <span class="st">'Chlorophyll-a (ug/L)'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="show_mettrndseason-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Beck, Perry de Valpine, Rebecca Murphy, Ian Wren, Ariella Chelsky, Melissa Foley, David Senn.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

